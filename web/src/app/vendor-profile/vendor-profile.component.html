<div *ngIf="vendor">
  <div *ngIf="this.LoginStore.isLoggedIn()" class="row">
    <button mz-button (click)="editVendor.open()">bearbeiten
      <i class="material-icons right">mode_edit</i></button>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      <h4>{{vendor.name}}</h4>
      <h5>{{vendor.subName}}</h5>
      <p>{{vendor.description}}</p>
      <ul>
        <li>
          <i class="material-icons">location_on</i> {{vendor.address.street}}, {{vendor.address.zip}} {{vendor.address.city}}
        </li>
        <li>
          <i class="material-icons">phone</i> {{vendor.tel}}
        </li>
        <li>
          <i class="material-icons">language</i> {{vendor.website}}
        </li>
        <li>
          <i class="material-icons">email</i> {{vendor.email}}
        </li>
      </ul>
    </div>
    <div class="col l6 m6 s12">
      <img class="col l8 m8 s8 right" src="assets/dummy_img.jpg">
    </div>
  </div>
  <div class="row">
    <h5>Produkte</h5>
    <div class="row">
      <div *ngIf="this.LoginStore.isLoggedIn()" class="col s6">
        <button mz-button (click)="addProduct.open()">neues Produkt
          <i class="material-icons right">mode_edit</i></button>
      </div>
      <div *ngIf="this.LoginStore.isLoggedIn()" class="col s6">
        <button mz-button (click)="addPostit.open()">neuer Schlachtbrett-Eintrag
            <i class="material-icons right">mode_edit</i></button>
      </div>
    </div>
    <hr>
    <ul class="row">
      <li *ngFor="let product of ProductStore.vendorProducts" class="col s12 m4 l3 xl2">
        <a [routerLink]="['/produkt', product._id]">
          <div class="card">
            <div class="card-image">
              <img class="activator" src="assets/dummy_img.jpg">
            </div>
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4">{{product.name}}</span>
            </div>
          </div>
        </a>
      </li>
    </ul>
  </div>
  <!-- Modal Structure -->
  <mz-modal #editVendor [fixedFooter]="true" [bottomSheet]="false" [options]="modalOptions">
    <mz-modal-header>
      Bearbeiten
    </mz-modal-header>
    <mz-modal-content>
      <vendor-form #vendorForm [vendor]="vendor"></vendor-form>
    </mz-modal-content>
    <mz-modal-footer>
      <button mz-button [flat]="true" (click)="this.updateVendor(vendorForm)" mz-modal-close>Speichern</button>
      <button mz-button [flat]="true" mz-modal-close>Abbrechen</button>
    </mz-modal-footer>
  </mz-modal>

  <mz-modal #addProduct [fixedFooter]="true" [bottomSheet]="false" [options]="modalOptions">
    <mz-modal-header>
      Neues Produkt hinzuf√ºgen
    </mz-modal-header>
    <mz-modal-content>
      <product-form #productForm [vendor]="vendor"></product-form>
    </mz-modal-content>
    <mz-modal-footer>
      <button mz-button [flat]="true" (click)="this.newProduct(productForm)" mz-modal-close>Speichern</button>
      <button mz-button [flat]="true" mz-modal-close>Abbrechen</button>
    </mz-modal-footer>
  </mz-modal>

  <mz-modal #addPostit [fixedFooter]="true" [bottomSheet]="false" [options]="modalOptions">
    <mz-modal-header>
      Neuen Schlachtbrett-Eintrag erstellen
    </mz-modal-header>
    <mz-modal-content>
      <postit-form #postitForm [vendor]="vendor"></postit-form>
    </mz-modal-content>
    <mz-modal-footer>
      <button mz-button [flat]="true" (click)="this.newPostit(postitForm)" mz-modal-close>Speichern</button>
      <button mz-button [flat]="true" mz-modal-close>Abbrechen</button>
    </mz-modal-footer>
  </mz-modal>
</div>
